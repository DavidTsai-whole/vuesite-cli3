(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e6340fd8"],{"1a43":function(t,e,a){},"1dde":function(t,e,a){var r=a("d039"),i=a("b622"),n=a("2d00"),c=i("species");t.exports=function(t){return n>=51||!r((function(){var e=[],a=e.constructor={};return a[c]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"5f47":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),a("CartLogo"),a("div",{staticClass:"container"},[a("nav",{attrs:{"aria-label":"breadcrumb "}},[a("ol",{staticClass:"breadcrumb bg-transparent"},[t._m(0),t._m(1),a("li",{staticClass:"breadcrumb-item active font-weight-bold",attrs:{"aria-current":"page"}},[t._v(" "+t._s(t.singleProduct.title)+" ")])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"singleImg col-lg-6 m-auto"},[a("img",{staticClass:"singleImg img-fluid",attrs:{src:t.singleProduct.imageUrl,alt:""}})]),a("div",{staticClass:"col-lg-6 text-center"},[a("h2",{staticClass:"text-dark1 font-weight-bold"},[t._v(t._s(t.singleProduct.title))]),a("h3",{staticClass:"mt-4 mb-3"},[t._v("產品說明")]),a("p",{staticClass:"mb-4 mt-4"},[t._v(t._s(t.singleProduct.content))]),a("div",{staticClass:"d-flex justify-content-around"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.singleProduct.num,expression:"singleProduct.num"}],staticClass:"productNum form-control text-dark1",attrs:{id:"exampleFormControlSelect1"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.singleProduct,"num",e.target.multiple?a:a[0])}}},t._l(10,(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(" 選購"+t._s(e)+t._s(t.singleProduct.unit)+" ")])})),0),a("div",{staticClass:"sale text-danger font-weight-bold"},[t._v(" 現在只要"+t._s(t.singleProduct.price)+"元 ")])]),a("div",{staticClass:"mt-5"},[a("button",{staticClass:"backMenuBtn btn btn-outline-secondary",on:{click:t.gomenu}},[t._v(" 回菜單 ")]),t._v(" "),a("button",{staticClass:"addCartBtn btn btn-dark1",on:{click:function(e){return t.addcart(t.singleProduct)}}},[t._v(" 加入購物車 ")])])])]),a("hr"),a("h2",{staticClass:"text-center mb-3 font-weight-bold"},[t._v("相關產品")]),a("div",{staticClass:"row"},t._l(t.filterTodo,(function(e){return a("div",{key:e.id,staticClass:"col-xl-3 col-md-4 col-sm-6 mb-4"},[a("div",{staticClass:"releateCard",on:{click:function(a){return t.inputProductid(e)}}},[a("div",{staticClass:"releateCardImg"},[a("img",{staticClass:"card-img-top img-fluid",attrs:{src:e.imageUrl,alt:""}})]),a("div",{staticClass:"card-body bg-dark1 text-white"},[a("h5",{staticClass:"card-title font-weight-bold"},[t._v(t._s(e.title))]),a("p",{staticClass:"card-text"},[t._v(t._s(e.content))])])])])})),0)])],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"breadcrumb-item font-weight-bold"},[a("a",{attrs:{href:"#/home"}},[t._v("首頁")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"breadcrumb-item font-weight-bold"},[a("a",{attrs:{href:"#/product"}},[t._v("美味菜單")])])}],n=(a("99af"),a("4160"),a("c975"),a("a434"),a("159b"),a("a882")),c={components:{CartLogo:n["a"]},data:function(){return{singleProduct:{},isLoading:!1,cartData:JSON.parse(localStorage.getItem("cartData"))||[],products:[]}},methods:{getSingleproduct:function(t){var e=this;t=e.$route.params.id;var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("asdsadas","/product/").concat(t);e.isLoading=!0,e.$http.get(a).then((function(t){e.isLoading=!1,e.singleProduct=t.data.product,e.singleProduct.num=1}))},addcart:function(t){var e=this,a=[];if(e.cartData.forEach((function(t){return a.push(t.product_id)})),-1===a.indexOf(t.id)){var r={product_id:t.id,qty:e.singleProduct.num,title:t.title,price:t.price,imageUrl:t.imageUrl};e.cartData.push(r),localStorage.setItem("cartData",JSON.stringify(e.cartData))}else{var i={};e.cartData.forEach((function(a,r){a.product_id===t.id&&(i={product_id:t.id,qty:a.qty+=e.singleProduct.num,title:t.title,price:t.price,imageUrl:t.imageUrl},e.cartData.splice(r,1))})),e.cartData.push(i),localStorage.setItem("cartData",JSON.stringify(e.cartData))}e.$bus.$emit("number"),e.$bus.$emit("message:push","已加入購物車","light")},inputProductid:function(t){var e=this;e.$router.push("/products/".concat(t.id)),e.getSingleproduct()},getProducts:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("asdsadas","/products/all");t.isLoading=!0,t.$http.get(e).then((function(e){t.isLoading=!1,t.products=e.data.products}))},gomenu:function(){this.$router.push("/product")}},computed:{filterTodo:function(){var t=this,e=t.singleProduct.category,a=[];return t.products.forEach((function(r){r.category===e&&r.title!==t.singleProduct.title&&a.push(r)})),a}},created:function(){this.getProducts(),this.getSingleproduct()}},s=c,o=(a("be1a"),a("2877")),l=Object(o["a"])(s,r,i,!1,null,null,null);e["default"]=l.exports},8418:function(t,e,a){"use strict";var r=a("c04e"),i=a("9bf2"),n=a("5c6c");t.exports=function(t,e,a){var c=r(e);c in t?i.f(t,c,n(0,a)):t[c]=a}},"91b6":function(t,e,a){"use strict";a("1a43")},"99af":function(t,e,a){"use strict";var r=a("23e7"),i=a("d039"),n=a("e8b5"),c=a("861d"),s=a("7b0b"),o=a("50c4"),l=a("8418"),u=a("65f0"),d=a("1dde"),f=a("b622"),g=a("2d00"),m=f("isConcatSpreadable"),p=9007199254740991,h="Maximum allowed index exceeded",v=g>=51||!i((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),b=d("concat"),_=function(t){if(!c(t))return!1;var e=t[m];return void 0!==e?!!e:n(t)},C=!v||!b;r({target:"Array",proto:!0,forced:C},{concat:function(t){var e,a,r,i,n,c=s(this),d=u(c,0),f=0;for(e=-1,r=arguments.length;e<r;e++)if(n=-1===e?c:arguments[e],_(n)){if(i=o(n.length),f+i>p)throw TypeError(h);for(a=0;a<i;a++,f++)a in n&&l(d,f,n[a])}else{if(f>=p)throw TypeError(h);l(d,f++,n)}return d.length=f,d}})},a434:function(t,e,a){"use strict";var r=a("23e7"),i=a("23cb"),n=a("a691"),c=a("50c4"),s=a("7b0b"),o=a("65f0"),l=a("8418"),u=a("1dde"),d=a("ae40"),f=u("splice"),g=d("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,p=Math.min,h=9007199254740991,v="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!f||!g},{splice:function(t,e){var a,r,u,d,f,g,b=s(this),_=c(b.length),C=i(t,_),x=arguments.length;if(0===x?a=r=0:1===x?(a=0,r=_-C):(a=x-2,r=p(m(n(e),0),_-C)),_+a-r>h)throw TypeError(v);for(u=o(b,r),d=0;d<r;d++)f=C+d,f in b&&l(u,d,b[f]);if(u.length=r,a<r){for(d=C;d<_-r;d++)f=d+r,g=d+a,f in b?b[g]=b[f]:delete b[g];for(d=_;d>_-r+a;d--)delete b[d-1]}else if(a>r)for(d=_-r;d>C;d--)f=d+r-1,g=d+a-1,f in b?b[g]=b[f]:delete b[g];for(d=0;d<a;d++)b[d+C]=arguments[d+2];return b.length=_-r+a,u}})},a882:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cartlogo"},[t._m(0),0!==t.cartNum?a("span",{staticClass:"number d-flex align-items-center justify-content-center text-white"},[t._v(t._s(t.cartNum))]):t._e()])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"logocart d-flex align-items-center justify-content-center",attrs:{href:"#/cart"}},[a("i",{staticClass:"fas fa-shopping-cart fa-2x text-white"})])}],n={data:function(){return{cartData:[],cartNum:0}},methods:{number:function(){var t=this;t.cartNum=t.cartData.length}},created:function(){var t=this;t.cartData=JSON.parse(localStorage.getItem("cartData"))||[],t.cartNum=t.cartData.length,t.$bus.$on("number",(function(){t.cartData=JSON.parse(localStorage.getItem("cartData"))||[],t.number()}))}},c=n,s=(a("91b6"),a("2877")),o=Object(s["a"])(c,r,i,!1,null,null,null);e["a"]=o.exports},be1a:function(t,e,a){"use strict";a("ed8b")},c975:function(t,e,a){"use strict";var r=a("23e7"),i=a("4d64").indexOf,n=a("a640"),c=a("ae40"),s=[].indexOf,o=!!s&&1/[1].indexOf(1,-0)<0,l=n("indexOf"),u=c("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:o||!l||!u},{indexOf:function(t){return o?s.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},ed8b:function(t,e,a){}}]);
//# sourceMappingURL=chunk-e6340fd8.1119d8cb.js.map